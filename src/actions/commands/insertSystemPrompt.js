import { Notice } from "obsidian";
import { calcHeight, createNode } from "src/obsidian/canvas-patches";
import { getActiveCanvas } from "src/utils";
export const insertSystemPrompt = (app, systemPrompt) => {
    new Notice(`Selected ${systemPrompt.act}`);
    const canvas = getActiveCanvas(app);
    if (!canvas)
        return;
    const text = `
SYSTEM PROMPT

${systemPrompt.prompt.trim()}
`.trim();
    const NODE_WIDTH = 800;
    const NODE_HEIGHT = 300;
    const newNode = createNode(canvas, {
        pos: {
            // @ts-expect-error
            x: canvas.x - NODE_WIDTH / 2,
            // @ts-expect-error
            y: canvas.y - NODE_HEIGHT / 2,
        },
        // position: "left",
        size: {
            height: calcHeight({
                // parentHeight: NODE_HEIGHT,
                text,
            }),
            width: NODE_WIDTH,
        },
        text,
        focus: false,
    });
    // canvas.menu.menuEl.append(new MenuItem())
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5zZXJ0U3lzdGVtUHJvbXB0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaW5zZXJ0U3lzdGVtUHJvbXB0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBTyxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDdkMsT0FBTyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUVyRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRTVDLE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLENBQUMsR0FBUSxFQUFFLFlBQTBCLEVBQUUsRUFBRTtJQUMxRSxJQUFJLE1BQU0sQ0FBQyxZQUFZLFlBQVksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBRTNDLE1BQU0sTUFBTSxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNwQyxJQUFJLENBQUMsTUFBTTtRQUFFLE9BQU87SUFFcEIsTUFBTSxJQUFJLEdBQUc7OztFQUdaLFlBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFO0NBQzNCLENBQUMsSUFBSSxFQUFFLENBQUM7SUFFUixNQUFNLFVBQVUsR0FBRyxHQUFHLENBQUM7SUFDdkIsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDO0lBQ3hCLE1BQU0sT0FBTyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUU7UUFDbEMsR0FBRyxFQUFFO1lBQ0osbUJBQW1CO1lBQ25CLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxHQUFHLFVBQVUsR0FBRyxDQUFDO1lBQzVCLG1CQUFtQjtZQUNuQixDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxXQUFXLEdBQUcsQ0FBQztTQUM3QjtRQUNELG9CQUFvQjtRQUNwQixJQUFJLEVBQUU7WUFDTCxNQUFNLEVBQUUsVUFBVSxDQUFDO2dCQUNsQiw2QkFBNkI7Z0JBQzdCLElBQUk7YUFDSixDQUFDO1lBQ0YsS0FBSyxFQUFFLFVBQVU7U0FDakI7UUFDRCxJQUFJO1FBQ0osS0FBSyxFQUFFLEtBQUs7S0FDWixDQUFDLENBQUM7SUFDSCw0Q0FBNEM7QUFDN0MsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwLCBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGNhbGNIZWlnaHQsIGNyZWF0ZU5vZGUgfSBmcm9tIFwic3JjL29ic2lkaWFuL2NhbnZhcy1wYXRjaGVzXCI7XG5pbXBvcnQgeyBTeXN0ZW1Qcm9tcHQgfSBmcm9tIFwic3JjL3NldHRpbmdzL0F1Z21lbnRlZENhbnZhc1NldHRpbmdzXCI7XG5pbXBvcnQgeyBnZXRBY3RpdmVDYW52YXMgfSBmcm9tIFwic3JjL3V0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRTeXN0ZW1Qcm9tcHQgPSAoYXBwOiBBcHAsIHN5c3RlbVByb21wdDogU3lzdGVtUHJvbXB0KSA9PiB7XG5cdG5ldyBOb3RpY2UoYFNlbGVjdGVkICR7c3lzdGVtUHJvbXB0LmFjdH1gKTtcblxuXHRjb25zdCBjYW52YXMgPSBnZXRBY3RpdmVDYW52YXMoYXBwKTtcblx0aWYgKCFjYW52YXMpIHJldHVybjtcblxuXHRjb25zdCB0ZXh0ID0gYFxuU1lTVEVNIFBST01QVFxuXG4ke3N5c3RlbVByb21wdC5wcm9tcHQudHJpbSgpfVxuYC50cmltKCk7XG5cblx0Y29uc3QgTk9ERV9XSURUSCA9IDgwMDtcblx0Y29uc3QgTk9ERV9IRUlHSFQgPSAzMDA7XG5cdGNvbnN0IG5ld05vZGUgPSBjcmVhdGVOb2RlKGNhbnZhcywge1xuXHRcdHBvczoge1xuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0eDogY2FudmFzLnggLSBOT0RFX1dJRFRIIC8gMixcblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRcdHk6IGNhbnZhcy55IC0gTk9ERV9IRUlHSFQgLyAyLFxuXHRcdH0sXG5cdFx0Ly8gcG9zaXRpb246IFwibGVmdFwiLFxuXHRcdHNpemU6IHtcblx0XHRcdGhlaWdodDogY2FsY0hlaWdodCh7XG5cdFx0XHRcdC8vIHBhcmVudEhlaWdodDogTk9ERV9IRUlHSFQsXG5cdFx0XHRcdHRleHQsXG5cdFx0XHR9KSxcblx0XHRcdHdpZHRoOiBOT0RFX1dJRFRILFxuXHRcdH0sXG5cdFx0dGV4dCxcblx0XHRmb2N1czogZmFsc2UsXG5cdH0pO1xuXHQvLyBjYW52YXMubWVudS5tZW51RWwuYXBwZW5kKG5ldyBNZW51SXRlbSgpKVxufTtcbiJdfQ==